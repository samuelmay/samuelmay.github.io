<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme="dark"
  class="html"
><head>
  <title>
    
      Samuel May
        |
        Static website subresource integrity and text file line endings


      


    
  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.104.3" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Samuel May" />
  <meta
    name="description"
    content="
      Just another professional computer programmer


    "
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.5259d55db7b9c675f751f0865411bd84a410f3ffcb5105b8fc00b22fcb739309.css"
      integrity="sha256-UlnVXbe5xnX3UfCGVBG9hKQQ8//LUQW4/ACyL8tzkwk="
      crossorigin="anonymous"
      type="text/css"
    />

  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css"
    integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.69685904d5c2a0c6258d03c207b778c10466edf6cea928cc0164c376b0ad0930.css"
    integrity="sha256-aWhZBNXCoMYljQPCB7d4wQRm7fbOqSjMAWTDdrCtCTA="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.6d585e78d28cce1200d39fb133c92ed83df01738da721d0f48fb6eac62d24e04.css"
    integrity="sha256-bVheeNKMzhIA05&#43;xM8ku2D3wFzjach0PSPturGLSTgQ="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.6b00d96498d59caa0dbcf9b49d30d821915291f2ceb0e19248523c8607ff43fa.css"
    integrity="sha256-awDZZJjVnKoNvPm0nTDYIZFSkfLOsOGSSFI8hgf/Q/o="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <link rel="canonical" href="https://samuelmay.github.io/posts/checksums_git_crlf/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.738c0e3a493854876aeab9e2316fd43f1936aeeac4cc6b3e60bb26456dba72ad.js"
      integrity="sha256-c4wOOkk4VIdq6rniMW/UPxk2rurEzGs&#43;YLsmRW26cq0="
      crossorigin="anonymous"
    ></script>

  

  


  
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://samuelmay.github.io/images/profilePicture.jpg"/>

<meta name="twitter:title" content="Static website subresource integrity and text file line endings"/>
<meta name="twitter:description" content="When I was creating this site and playing around with Hugo, I encountered this issue for the Anatole theme. Hugo is thorough enough when it minifies resource files to add &lsquo;integrity&rsquo; attributes with calculated checksums for the minified files.
Now when you&rsquo;re using GitHub pages or another web host that serves the content out of a Git repository, it turns out the operating system that the web host is running actually matters."/>



  
  <meta property="og:title" content="Static website subresource integrity and text file line endings" />
<meta property="og:description" content="When I was creating this site and playing around with Hugo, I encountered this issue for the Anatole theme. Hugo is thorough enough when it minifies resource files to add &lsquo;integrity&rsquo; attributes with calculated checksums for the minified files.
Now when you&rsquo;re using GitHub pages or another web host that serves the content out of a Git repository, it turns out the operating system that the web host is running actually matters." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://samuelmay.github.io/posts/checksums_git_crlf/" /><meta property="og:image" content="https://samuelmay.github.io/images/profilePicture.jpg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-03T14:08:24+11:00" />
<meta property="article:modified_time" content="2022-04-03T14:08:24+11:00" /><meta property="og:site_name" content="Samuel May" />




  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "posts",
        "name": "Static website subresource integrity and text file line endings",
        "headline": "Static website subresource integrity and text file line endings",
        "alternativeHeadline": "",
        "description": "
      
        When I was creating this site and playing around with Hugo, I encountered this issue for the Anatole theme. Hugo is thorough enough when it minifies resource files to add \u0026lsquo;integrity\u0026rsquo; attributes with calculated checksums for the minified files.\nNow when you\u0026rsquo;re using GitHub pages or another web host that serves the content out of a Git repository, it turns out the operating system that the web host is running actually matters.


      


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/samuelmay.github.io\/posts\/checksums_git_crlf\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Samuel May"
        },
        "creator" : {
            "@type": "Person",
            "name": "Samuel May"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Samuel May"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Samuel May"
        },
        "copyrightYear" : "2022",
        "dateCreated": "2022-04-03T14:08:24.00Z",
        "datePublished": "2022-04-03T14:08:24.00Z",
        "dateModified": "2022-04-03T14:08:24.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Samuel May",
            "url": "https://samuelmay.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/samuelmay.github.io\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
        
        "https://samuelmay.github.io/images/profilePicture.jpg"


      
      ]

    ,
        "url" : "https:\/\/samuelmay.github.io\/posts\/checksums_git_crlf\/",
        "wordCount" : "187",
        "genre" : [ ],
        "keywords" : [ ]
    }
  </script>



</head>
<body
    
      class="body theme--dark"

    
  >
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"

        
      ><div
  class="sidebar
    .

  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/profilePicture.jpg"
        alt="profile picture"
      />
      <h1 class="sidebar__introduction-title">
        <a href="/">Samuel May</a>
      </h1>
      <div class="sidebar__introduction-description">
        <p>Just another professional computer programmer</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a href="https://www.linkedin.com/in/samuel-may-982b8559/" rel="me" aria-label="Linkedin" title="Linkedin">
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a href="https://github.com/samuelmay" rel="me" aria-label="GitHub" title="GitHub">
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a href="mailto:sam@samuelmay.net" rel="me" aria-label="E-mail" title="E-mail">
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Samuel May
        2022


      
    </li>
    
  </ul>
</footer></div>
</aside>
      <main
        
          class="wrapper__main"

        
      >
        <header class="header"><div
  class="
    .

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        <li class="nav__list-item">
          <a
            
            href="/"
            
            title=""
            >About</a
          >
        </li>

      
        
        <li class="nav__list-item">
          <a
            
            href="/posts/"
            
            title=""
            >Blog</a
          >
        </li>

      
        
        <li class="nav__list-item">
          <a
            
            href="/portfolio/"
            
            title=""
            >Projects</a
          >
        </li>

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>

      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      .

    "
  >
    
    <div class="post__content">
      <h1>Static Website Subresource Integrity and Text File Line Endings</h1>
      <p>When I was creating this site and playing around with Hugo, I encountered <a href="https://github.com/lxndrblz/anatole/issues/114#issuecomment-828750909">this issue for the Anatole theme</a>. Hugo is thorough enough when it minifies resource files to add &lsquo;integrity&rsquo; attributes with calculated checksums for the minified files.</p>
<p>Now when you&rsquo;re using GitHub pages or another web host that serves the content out of a Git repository, it turns out the operating system that the web host is running actually matters. That is, it matters if you&rsquo;re developing on a different one. A bug/feature of Git is that <a href="https://docs.github.com/en/get-started/getting-started-with-git/configuring-git-to-handle-line-endings">it can magically change the line endings</a> of text files it checks out, to match the local operating system convention. If you have built your static site on Windows, pushed it to GitHub, and the GitHub Pages host server then checks out the site on a Linux host, the line endings on the resource files might be different - which will invalidate the checksums!</p>
<p>My solution was to check in a &lsquo;.gitattributes&rsquo; file to the GitHub Pages repository, which tells git to force CSS files to always be checked out with the same line endings:</p>
<pre tabindex="0"><code>*.css text eol=crlf
</code></pre></div>
    <div class="post__footer">
      

      
    </div>

    
  </div>


      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Samuel May
        2022


      
    </li>
    
  </ul>
</footer></body>
</html>
